**一个程序本质上都是由 bss段、data段、text段三个段组成**——这是计算机程序设计中重要的基本概念。而且在嵌入式系统的设计中也非常重要，牵涉到嵌入式系统运行时的内存大小分配，存储单元占用空间大小的问题。

在采用段式内存管理的架构中（比如intel的80x86系统），**bss段**（Block Started by Symbol segment）通常是指用来存放程序中未初始化的全局变量的一块内存区域，一般在初始化时bss 段部分将会清零**（bss段属于静态内存分配，即程序一开始就将其清零了）**。

在C语言程序编译完成之后，已初始化的全局变量保存在.data 段中，未初始化的全局变量保存在.bss 段中。

**text段**: 用于存放程序代码的区域， 编译时确定， 只读。更进一步讲是存放处理器的机器指令，当各个源文件单独编译之后生成目标文件，经连接器链接各个目标文件并解决各个源文件之间函数的引用，与此同时，还得将所有目标文件中的.text段合在一起，但不是简单的将它们“堆”在一起就完事，还需要处理各个段之间的函数引用问题。在嵌入式系统中，如果处理器是带**MMU（MemoryManagement Unit，内存管理单元）**，那么当我们的可执行程序被加载到内存以后，通常都会将.text段所在的内存空间设置为只读，以保护.text中的代码不会被意外的改写（比如在程序出错时）。当然，如果没有MMU就无法获得这种代码保护功能。

**data段** :用于存放在编译阶段(而非运行时)就能确定的数据，可读可写。也是通常所说的静态存储区，赋了初值的全局变量、常量和静态变量都存放在这个域。

**bss段:**不在可执行文件中，由系统初始化。

***关于data和bss段更详细的区别我们不妨用下面2段小程序说明一下***

**程序1:**

int ar[30000];

void main()

{

......

}

**程序2:**

int ar[300000] = {1, 2, 3, 4, 5, 6 };

void main()

{

......

}

发现程序2编译之后所得的可执行文件比程序1大得多。

为什么？

区别很明显，程序1位于bss段，程序2位于data段，两者的区别在于：

> 全局的未初始化变量存在于bss段中，具体体现为一个占位符，全局的已初始化变量存于data段中，而函数内的自动变量都在栈上分配空间。

> **bss不占用可执行文件空间，其内容由操作系统初始化（清零），裸机程序需要自行手动清零**。

> 而data段则需要占用可执行文件空间，其内容由程序初始化，因此造成了上述情况。

**注意**

> bss段（未手动初始化的数据）并不给该段的数据分配空间，只是记录数据所需空间的大小。

> data段（已手动初始化的数据）为数据分配空间，数据保存在目标文件中。

> data段包含经过初始化的全局变量以及它们的值。

> BSS段的大小从可执行文件中得到，然后链接器得到这个大小的内存块，紧跟在数据段后面。当这个内存区进入程序的地址空间后全部清零，包含data和bss段的整个区段此时通常称为数据区。